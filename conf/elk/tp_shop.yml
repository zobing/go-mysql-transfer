# mysql配置
addr: 127.0.0.1:3306
user: #数据库访问用户名
pass: #数据库访问密码
charset : utf8
slave_id: 5101 #slave ID
flavor: mysql #mysql or mariadb,默认mysql

#系统相关配置
#data_dir: /www/wwwroot/elk/transfer #应用产生的数据存放地址，包括日志、缓存数据等，默认当前运行目录下store文件夹
#logger:
#  level: info #日志级别；支持：debug|info|warn|error，默认info

#maxprocs: 50 #并发协（线）程数量，默认为: CPU核数*2；一般情况下不需要设置此项
bulk_size: 1000 #每批处理数量，不写默认100，可以根据带宽、机器性能等调整;如果是全量数据初始化时redis建议设为1000，其他接收端酌情调大

#prometheus相关配置
#enable_exporter: true #是否启用prometheus exporter，默认false
#exporter_addr: 9595 #prometheus exporter端口，默认9595

#web admin相关配置
enable_web_admin: true #是否启用web admin，默认false
web_admin_port: 8061 #web监控端口,默认8060

#目标类型
target: elasticsearch #支持redis、mongodb、elasticsearch、rocketmq、kafka、rabbitmq

#elasticsearch连接配置
es_addrs: http://es-cn-7pp289qbm000p7vum.elasticsearch.aliyuncs.com:9200 #连接地址，多个用逗号分隔
es_version: 7 #Elasticsearch版本，支持6和7、默认为7
es_user: elastic #用户名
es_password: Abc123456 #密码

#规则配置
rule:
  -
    schema: esshop #数据库名称
    table: tp_shop #表名称
    order_by_column: shop_id #排序字段，存量数据同步时不能为空
    date_formatter: yyyy-MM-dd #date类型格式化， 不填写默认yyyy-MM-dd
    datetime_formatter: yyyy-MM-dd HH:mm:ss #datetime、timestamp类型格式化，不填写默认yyyy-MM-dd HH:mm:ss
    lua_file_path: conf/elk/lua/tp_shop.lua   #lua脚本文件

    #elasticsearch相关
    es_index: jyjzzk_shop_product #Index名称,可以为空，默认使用表(Table)名称
    #es_mappings: #索引映射，可以为空，为空时根据数据类型自行推导ES推导
      -
        column: st_store_id #数据库列名称
        field: st_store_id #映射后的ES字段名称
        type: long #ES字段类型
      -
        column: store_name
        field: store_name
        type: text
      -
        column: st_bid
        field: st_bid
        type: long
      -
        column: sc_id
        field: sc_id
        type: long
      -
        column: store_state
        field: store_state
        type: byte
      -
        column: st_deleted
        field: st_deleted
        type: byte
      -
        column: is_show_wt
        field: is_show_wt
        type: byte
      -
        column: shop_id
        field: shop_id
        type: long
      -
        column: store_id
        field: store_id
        type: long
      -
        column: sh_bid
        field: sh_bid
        type: long
      -
        column: shop_name
        field: shop_name
        type: text
      -
        column: province_id
        field: province_id
        type: long
      -
        column: city_id
        field: city_id
        type: long
      -
        column: district_id
        field: district_id
        type: long
      -
        column: shop_address
        field: shop_address
        type: text
      -
        column: longitude
        field: longitude
        type: double
      -
        column: latitude
        field: latitude
        type: double
      -
        column: longitude_tencent
        field: longitude_tencent
        type: double
      -
        column: latitude_tencent
        field: latitude_tencent
        type: double
      -
        column: shop_status
        field: shop_status
        type: byte
      -
        column: deleted
        field: deleted
        type: byte
      -
        column: shop_intro
        field: shop_intro
        type: text
      -
        column: shop_logo
        field: shop_logo
        type: keyword
      -
        column: average_consumption
        field: average_consumption
        type: float
      -
        column: preferential_description
        field: preferential_description
        type: text
      -
        column: popularity_bonus
        field: popularity_bonus
        type: short
      -
        column: sales_volume
        field: sales_volume
        type: short
      -
        column: recommend_sort
        field: recommend_sort
        type: integer
      -
        column: is_recommend
        field: is_recommend
        type: byte
      -
        column: virtual_share_times
        field: virtual_share_times
        type: integer
      -
        column: coordinate
        field: coordinate
        type: geo_point
      -
        column: source_type
        field: source_type
        type: keyword
      -
        column: source
        field: source
        type: keyword
      -
        column: lian_product_id
        field: lian_product_id
        type: long
      -
        column: lian_id
        field: lian_id
        type: long
      -
        column: location_id
        field: location_id
        type: long
      -
        column: only_name
        field: only_name
        type: text
      -
        column: title
        field: title
        type: text
      -
        column: product_title
        field: product_title
        type: text
      -
        column: share_text
        field: share_text
        type: text
      -
        column: face_img
        field: face_img
        type: keyword
      -
        column: address
        field: address
        type: text
      -
        column: tel
        field: tel
        type: keyword
      -
        column: end_time
        field: end_time
        type: long
      -
        column: begin_time
        field: begin_time
        type: long
      -
        column: valid_end_date
        field: valid_end_date
        type: long
      -
        column: valid_begin_date
        field: valid_begin_date
        type: long
      -
        column: channel_stock
        field: channel_stock
        type: short
      -
        column: channel_sale_amount
        field: channel_sale_amount
        type: short
      -
        column: category_path
        field: category_path
        type: text
      -
        column: product_category_id
        field: product_category_id
        type: long
      -
        column: status
        field: status
        type: byte
      -
        column: city_code
        field: city_code
        type: keyword
      -
        column: is_show
        field: is_show
        type: byte
      -
        column: type
        field: type
        type: byte
      -
        column: booking_show_address
        field: booking_show_address
        type: byte
      -
        column: booking_type
        field: booking_type
        type: byte
      -
        column: sale_price
        field: sale_price
        type: integer
      -
        column: channel_price
        field: channel_price
        type: integer
      -
        column: origin_price
        field: origin_price
        type: integer
      -
        column: profit
        field: profit
        type: integer
